(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[3],Array(200).concat([function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/0-cagnotte.95cb65b9.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/1-cagnotte.7452b600.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/2-cagnotte.445eb7b2.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/3-cagnotte.b0e352b3.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/4-cagnotte.361b4e5a.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/5-cagnotte.802d9062.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/6-cagnotte.bea6e0d2.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/7-cagnotte.470119c3.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/8-cagnotte.b832bc60.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/9-cagnotte.c9190fa4.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/10-cagnotte.018433e8.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/11-cagnotte.1cd13993.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/12-cagnotte.0a7516a8.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/13-cagnotte.ed08cf1e.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/14-cagnotte.acd807ea.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/15-cagnotte.54e5af1d.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/16-cagnotte.375887a5.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/17-cagnotte.a761dba5.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/18-cagnotte.fc9a403c.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/19-cagnotte.9a17bbf5.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/20-cagnotte.5efd4481.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/21-cagnotte.89182ba5.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/22-cagnotte.ae35f93c.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/23-cagnotte.89203923.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/24-cagnotte.63ef31b9.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/25-cagnotte.13480b77.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/26-cagnotte.3f13ec1b.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/27-cagnotte.63d944e5.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/28-cagnotte.c10f4815.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/29-cagnotte.e7cb9226.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/30-cagnotte.735839d7.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/31-cagnotte.df0fa421.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/32-cagnotte.54b3405d.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/33-cagnotte.97927a35.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/34-cagnotte.3e96b159.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/35-cagnotte.6ef09b3c.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/36-cagnotte.871c637e.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/37-cagnotte.bccb0504.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/38-cagnotte.e1fb5dcb.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/39-cagnotte.992d612b.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/40-cagnotte.019f462e.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/41-cagnotte.636366a2.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/42-cagnotte.6dd0bb7a.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/43-cagnotte.fd3ff516.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/44-cagnotte.dd696008.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/45-cagnotte.3b336016.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/46-cagnotte.2d17e65f.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/47-cagnotte.f0a12cb0.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/48-cagnotte.41194781.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/49-cagnotte.1f880ff8.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/50-cagnotte.535cbc39.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/51-cagnotte.8e26e656.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/52-cagnotte.fa1cfd36.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/53-cagnotte.aa827b65.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/54-cagnotte.d241d03e.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/55-cagnotte.0068a880.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/56-cagnotte.54532d9b.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/57-cagnotte.e63b1f4b.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/58-cagnotte.9f03b0fc.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/59-cagnotte.b733f515.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/60-cagnotte.6d4b3782.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/61-cagnotte.bfa8be86.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/62-cagnotte.81085aa7.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/63-cagnotte.0942290f.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/64-cagnotte.5017f5f9.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/65-cagnotte.5188fb90.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/66-cagnotte.ce213332.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/67-cagnotte.e2f8da95.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/68-cagnotte.76ff6a0b.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/69-cagnotte.d3015bf1.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/70-cagnotte.b920f7d3.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/71-cagnotte.2c113931.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/72-cagnotte.6b4db555.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/73-cagnotte.0a167e95.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/74-cagnotte.662ffb21.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/75-cagnotte.109e015f.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/76-cagnotte.9314add6.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/77-cagnotte.01248d62.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/78-cagnotte.f6ad3211.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/79-cagnotte.4ead1f2d.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/80-cagnotte.69bbcec7.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/81-cagnotte.2d26e171.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/82-cagnotte.1875d7a8.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/83-cagnotte.a68784c8.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/84-cagnotte.80f7ce16.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/85-cagnotte.840bdca5.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/86-cagnotte.323f19a5.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/87-cagnotte.58a3fc7c.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/88-cagnotte.aba747dc.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/89-cagnotte.f3555606.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/90-cagnotte.aaf4632e.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/91-cagnotte.c10c294f.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/92-cagnotte.316a1d75.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/93-cagnotte.a1ef89f5.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/94-cagnotte.057caa52.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/95-cagnotte.44169d74.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/96-cagnotte.5c8574e6.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/97-cagnotte.67cbf6c0.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/98-cagnotte.1e9202ad.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/99-cagnotte.45b28aa4.png"},function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/100-cagnotte.78d76362.png"},,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),c=n(18),s=n.n(c),o=(n(200),n(26)),r=n(13),l=(n(201),n(340)),u=(n(74),n(202),n(41)),d=n(370),f=n(372),p=n(373),g=n(165),b=n(380),j=n(389),m=n(385),x=n(382),O=n(387),h=n(375),v=n(377),y=n(386),E=n(383),C=n(10),S=n(371),I=n(68),N=n(69),T=n.n(N),W=n(30),R=n(384),A=n(162),D=n.n(A),P=n(163),w=n.n(P),M=n(161),k=n.n(M),L={0:n(223),1:n(224),2:n(225),3:n(226),4:n(227),5:n(228),6:n(229),7:n(230),8:n(231),9:n(232),10:n(233),11:n(234),12:n(235),13:n(236),14:n(237),15:n(238),16:n(239),17:n(240),18:n(241),19:n(242),20:n(243),21:n(244),22:n(245),23:n(246),24:n(247),25:n(248),26:n(249),27:n(250),28:n(251),29:n(252),30:n(253),31:n(254),32:n(255),33:n(256),34:n(257),35:n(258),36:n(259),37:n(260),38:n(261),39:n(262),40:n(263),41:n(264),42:n(265),43:n(266),44:n(267),45:n(268),46:n(269),47:n(270),48:n(271),49:n(272),50:n(273),51:n(274),52:n(275),53:n(276),54:n(277),55:n(278),56:n(279),57:n(280),58:n(281),59:n(282),60:n(283),61:n(284),62:n(285),63:n(286),64:n(287),65:n(288),66:n(289),67:n(290),68:n(291),69:n(292),70:n(293),71:n(294),72:n(295),73:n(296),74:n(297),75:n(298),76:n(299),77:n(300),78:n(301),79:n(302),80:n(303),81:n(304),82:n(305),83:n(306),84:n(307),85:n(308),86:n(309),87:n(310),88:n(311),89:n(312),90:n(313),91:n(314),92:n(315),93:n(316),94:n(317),95:n(318),96:n(319),97:n(320),98:n(321),99:n(322),100:n(323)},B=n(4),F=Object(C.a)((function(e){return{tooltip:{backgroundColor:"#3f50b5",color:"#fff",padding:".5em 1em",boxShadow:e.shadows[1],fontSize:14}}}))(d.a),z=Object(S.a)({root:{background:"transparent",borderRadius:3,border:"2px solid #3f51b5",color:"#3f51b5",padding:"8px 30px","&:hover":{background:"#3f51b5",color:"#fff"}},label:{textTransform:"capitalize",fontWeight:"700"},text:{sm:{fontSize:".75rem"},md:{fontSize:"1rem"},lg:{fontSize:"1.12rem"}}}),H=Object(a.forwardRef)((function(e,t){return Object(B.jsx)(f.a,Object(o.a)({direction:"up",ref:t},e))}));var G=function(){var e=z(),t=Object(a.useState)("employes"),n=Object(r.a)(t,2),i=n[0],c=n[1],s=Object(a.useState)([]),f=Object(r.a)(s,2),C=f[0],S=f[1],N=Object(a.useState)([]),A=Object(r.a)(N,2),P=A[0],M=A[1],G=Object(a.useState)(""),q=Object(r.a)(G,2),J=q[0],K=q[1],U=Object(a.useState)(new Date),Z=Object(r.a)(U,2),V=Z[0],Q=Z[1],X=Object(a.useState)(new Date),Y=Object(r.a)(X,2),$=Y[0],_=Y[1],ee=Object(a.useState)(""),te=Object(r.a)(ee,2),ne=te[0],ae=te[1],ie=Object(a.useState)(""),ce=Object(r.a)(ie,2),se=ce[0],oe=ce[1],re=Object(a.useState)(""),le=Object(r.a)(re,2),ue=le[0],de=le[1],fe=Object(a.useState)(""),pe=Object(r.a)(fe,2),ge=pe[0],be=pe[1],je=Object(a.useState)(""),me=Object(r.a)(je,2),xe=me[0],Oe=me[1],he=Object(a.useState)(""),ve=Object(r.a)(he,2),ye=ve[0],Ee=ve[1],Ce=Object(a.useState)(""),Se=Object(r.a)(Ce,2),Ie=Se[0],Ne=Se[1],Te=Object(a.useState)(""),We=Object(r.a)(Te,2),Re=We[0],Ae=We[1],De=Object(a.useState)(),Pe=Object(r.a)(De,2),we=Pe[0],Me=Pe[1],ke=Object(a.useState)(!1),Le=Object(r.a)(ke,2),Be=Le[0],Fe=Le[1],ze=Object(a.useState)(""),He=Object(r.a)(ze,2),Ge=He[0],qe=He[1],Je=Object(a.useState)(""),Ke=Object(r.a)(Je,2),Ue=Ke[0],Ze=Ke[1],Ve=Object(a.useState)(!1),Qe=Object(r.a)(Ve,2),Xe=Qe[0],Ye=Qe[1],$e=Object(a.useState)(new Date),_e=Object(r.a)($e,2),et=_e[0],tt=_e[1],nt=Object(a.useState)(new Date),at=Object(r.a)(nt,2),it=at[0],ct=at[1],st=Object(a.useState)(""),ot=Object(r.a)(st,2),rt=ot[0],lt=ot[1],ut=Object(a.useState)(""),dt=Object(r.a)(ut,2),ft=dt[0],pt=dt[1],gt=Object(a.useState)(""),bt=Object(r.a)(gt,2),jt=bt[0],mt=bt[1],xt=Object(a.useState)(""),Ot=Object(r.a)(xt,2),ht=Ot[0],vt=Ot[1],yt=Object(a.useState)(""),Et=Object(r.a)(yt,2),Ct=Et[0],St=Et[1],It=Object(a.useState)(0),Nt=Object(r.a)(It,2),Tt=Nt[0],Wt=Nt[1],Rt=Object(a.useState)(0),At=Object(r.a)(Rt,2),Dt=At[0],Pt=At[1],wt=Object(a.useState)(),Mt=Object(r.a)(wt,2),kt=Mt[0],Lt=Mt[1],Bt=function(){Ye(!1),u.a.firestore().collection("users").get().then((function(e){var t=e.docs.map((function(e,t){return Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}));console.log("Firebase - Liste des utilisateurs",t),S(t)})),u.a.firestore().collection("syndics").get().then((function(e){var t=e.docs.map((function(e,t){return Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}));console.log("Firebase - Liste des syndics",t),M(t)}))},Ft=function(e){var t=e.dateEntree.toDate(),n=t.getDate()<10?"0"+t.getDate():t.getDate(),a=t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1;return e.nom.substring(0,1)+e.prenom.substring(0,1)+n+a};return Object(a.useEffect)((function(){return console.log(C)}),[C]),Object(a.useEffect)((function(){se&&ue&&ge&&V&&xe&&$&&ne&&(console.log("user"),console.log({nom:se,prenom:ue,mail:ge,mobile:xe,dateEntree:V,dateNaissance:$,cagnotte:0,nbInter:0,completionInter:0,interventionsList:{},messagesId:[],notifications:[]}),u.a.firestore().collection("users").doc(J).set({nom:se,prenom:ue,mail:ge,role:ne,mobile:xe,dateEntree:V,dateNaissance:$,cagnotte:0,nbInter:0,completionInter:0,interventionsList:{},messagesId:[],notifications:[]}).then(Bt))}),[J]),Object(a.useEffect)(Bt,[]),Object(B.jsxs)(p.a,{maxWidth:!1,children:[Object(B.jsxs)("div",{className:"MenuWrapper",children:[Object(B.jsxs)("div",{onClick:function(){return c("employes")},className:"employes"==i?"menuItemWrapper selected":"menuItemWrapper",children:["Employ\xe9s (",C.filter((function(e){return"dev"!==e.role})).length,")"]}),Object(B.jsxs)("div",{onClick:function(){return c("syndics")},className:"syndics"==i?"menuItemWrapper selected":"menuItemWrapper",children:["Syndics (",P.length,")"]})]}),Object(B.jsxs)("div",{className:"detailsWrapper",children:[Object(B.jsx)(g.a,{in:"employes"===i,unmountOnExit:!0,mountOnEnter:!0,children:Object(B.jsxs)("div",{className:"detailsEmployes",children:[Object(B.jsx)(l.a,{component:"h3",className:"encadreBlue",children:"Ajouter un employ\xe9"}),Object(B.jsx)("br",{}),Object(B.jsxs)("div",{className:"ajoutEmploye",children:[Object(B.jsx)(W.a,{utils:I.a,locale:T.a,children:Object(B.jsx)(R.a,{style:{flex:1,marginRight:"16px"},label:"Date d'entr\xe9e",variant:"inline",format:"dd/MM/yyyy",openTo:"date",value:V,onChange:Q})}),Object(B.jsxs)(b.a,{style:{flex:1,marginRight:"16px"},children:[Object(B.jsx)(j.a,{id:"heureFinLabel",children:"Role"}),Object(B.jsxs)(m.a,{labelId:"heureFinLabel",value:ne,onChange:function(e){return ae(e.target.value)},children:[Object(B.jsx)(x.a,{value:"technicien",children:"TECHNICIEN"}),Object(B.jsx)(x.a,{value:"gestionnaire",children:"GESTIONNAIRE"}),Object(B.jsx)(x.a,{value:"stock",children:"STOCK"}),Object(B.jsx)(x.a,{value:"direction",children:"DIRECTION"})]})]}),Object(B.jsx)(O.a,{value:se,onChange:function(e){return oe(e.target.value)},style:{flex:1,marginRight:"16px"},label:"Nom"}),Object(B.jsx)(O.a,{value:ue,onChange:function(e){return de(e.target.value)},style:{flex:1,marginRight:"16px"},label:"Prenom"}),Object(B.jsx)(O.a,{value:ge,onChange:function(e){return be(e.target.value)},style:{flex:1,marginRight:"16px"},label:"Mail"}),Object(B.jsx)(O.a,{value:xe,onChange:function(e){return Oe(e.target.value)},style:{flex:1,marginRight:"16px"},label:"Mobile",type:"tel"}),Object(B.jsx)(W.a,{utils:I.a,locale:T.a,children:Object(B.jsx)(R.a,{style:{flex:1,marginRight:"16px"},label:"Date de naissance",variant:"inline",format:"dd/MM/yyyy",openTo:"date",value:$,onChange:_})}),Object(B.jsx)(h.a,{variant:"outlined",onClick:function(){var e=V.getDate()<10?"0"+V.getDate():V.getDate(),t=V.getMonth()+1<10?"0"+(V.getMonth()+1):V.getMonth()+1,n=se.substring(0,1)+ue.substring(0,1)+e+t;console.log("auth id"),console.log(ge,n),u.a.auth().createUserWithEmailAndPassword(ge,n).then((function(e){K(e.user.uid)})).catch((function(e){return console.log(e)}))},classes:{root:e.root,label:e.label},children:"Ajouter"})]}),Object(B.jsx)("div",{className:"listEmploye",children:C.filter((function(e){return"dev"!==e.role})).map((function(e){return Object(B.jsxs)("div",{className:"employe",children:[Object(B.jsx)(F,{title:"Notifier",children:Object(B.jsx)(v.a,{style:{marginRight:8},onClick:function(){return function(e,t){Fe(!0),Me(e),Ze(t)}(e.nom+" "+e.prenom,e.id)},"aria-label":"notifier",color:"primary",children:Object(B.jsx)(k.a,{})})}),Object(B.jsxs)("div",{style:{flex:3},children:[Object(B.jsx)("div",{style:{marginBottom:"6px"},children:Object(B.jsx)(F,{title:"mot de passe : "+Ft(e),children:Object(B.jsxs)("div",{children:[Object(B.jsx)("span",{style:{fontSize:"1.12rem",fontWeight:"700",paddingRight:"8px",textTransform:"uppercase"},children:e.nom}),Object(B.jsx)("span",{style:{fontSize:"1.12rem",fontWeight:"700",paddingRight:"8px"},children:e.prenom})]})})}),Object(B.jsx)("div",{style:{color:"#bbb",fontSize:".75rem"},children:e.id})]}),Object(B.jsxs)("div",{style:{flex:3},children:[Object(B.jsxs)("div",{style:{display:"flex"},children:[Object(B.jsx)("div",{style:{flex:1,fontSize:"1rem",fontWeight:"700",marginBottom:"6px"},children:e.mobile}),Object(B.jsx)(F,{title:"Date de naissance",placement:"left",children:Object(B.jsx)("div",{style:{flex:1,color:"#999",fontSize:".75rem",marginBottom:"6px"},children:e.dateNaissance.toDate().toLocaleDateString("fr")})})]}),Object(B.jsx)("div",{style:{color:"#3f51b5",fontSize:".75rem",fontWeight:"700"},children:e.mail})]}),Object(B.jsxs)("div",{style:{flex:2},children:[Object(B.jsx)("div",{style:{fontWeight:"700",marginBottom:"6px"},children:e.role}),Object(B.jsx)(F,{title:"Date d'entr\xe9e",placement:"left",children:Object(B.jsx)("div",{style:{color:"#999",fontSize:".75rem"},children:e.dateEntree.toDate().toLocaleDateString("fr")})})]}),Object(B.jsx)("div",{style:{flex:1}}),Object(B.jsxs)("div",{style:{flex:1,textAlign:"right"},children:[Object(B.jsx)("div",{style:{fontWeight:"700",marginBottom:"6px"},children:12*Object.keys(e.cagnotte).length}),Object(B.jsx)("div",{style:{color:"#999",fontSize:".75rem"},children:"Cagnotte"})]}),Object(B.jsxs)("div",{style:{flex:1,textAlign:"right"},children:[Object(B.jsx)("div",{style:{fontWeight:"700",marginBottom:"6px"},children:Object.keys(e.interventionsList).length}),Object(B.jsx)("div",{style:{color:"#999",fontSize:".75rem"},children:"Interventions"})]}),Object(B.jsxs)("div",{style:{flex:1,textAlign:"right"},children:[Object(B.jsx)(d.a,{title:Object(B.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",width:"206px"},children:[Object(B.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",alignContent:"center",borderBottom:"1px solid #eee",padding:"4px"},children:[Object(B.jsx)("h4",{style:{flex:1,textAlign:"center"},children:"Completion Totale"}),Object(B.jsx)("div",{style:{flex:1,textAlign:"center"},children:Object(B.jsx)("img",{style:{maxWidth:"100%",maxHeight:"36px"},src:e.completionInter&&L[100*Number.parseFloat(Object.values(e.completionInter).reduce((function(e,t){return e+t}))/Object.values(e.completionInter).length).toFixed(2)].default,alt:"completionInter"})})]}),Object.values(e.completionInter).map((function(e){return Object(B.jsxs)("div",{style:{flex:1,padding:"8px",textAlign:"center",minWidth:"36px"},children:[Object(B.jsx)("img",{style:{maxWidth:"100%",maxHeight:"36px"},src:L[100*e].default,alt:"completionInter"}),e]})}))]}),disableHoverListener:0===Object.values(e.completionInter).length,children:Object(B.jsx)("div",{style:{fontWeight:"700",marginBottom:"6px"},children:e.completionInter&&Number.parseFloat(Object.values(e.completionInter).reduce((function(e,t){return e+t}))/Object.values(e.completionInter).length).toFixed(2)})}),Object(B.jsx)("div",{style:{color:"#999",fontSize:".75rem"},children:"Compl\xe9t\xe9"})]}),Object(B.jsxs)("div",{style:{flex:2,textAlign:"right"},children:[Object(B.jsx)(F,{title:"Editer",children:Object(B.jsx)(v.a,{onClick:function(){var t;t=e,console.log("here",t),tt(t.dateEntree),ct(t.dateNaissance),lt(t.role),pt(t.nom),mt(t.prenom),vt(t.mail),St(t.mobile),Wt(t.cagnotte),Pt(t.nbInter),Lt(t),Ye(!0)},"aria-label":"edit",color:"primary",children:Object(B.jsx)(D.a,{})})}),Object(B.jsx)(F,{title:"Supprimer",children:Object(B.jsx)(v.a,{onClick:function(){return function(e){u.a.firestore().collection("users").doc(e.id).delete().then((function(){console.log("user supprim\xe9"),Bt()})).catch((function(e){return console.log(e)}))}(e)},"aria-label":"supprimer",color:"secondary",children:Object(B.jsx)(w.a,{})})})]})]})}))})]})}),Object(B.jsx)(g.a,{in:"syndics"===i,unmountOnExit:!0,mountOnEnter:!0,children:Object(B.jsxs)("div",{className:"detailsEmployes",children:[Object(B.jsx)(l.a,{component:"h3",className:"encadreBlue",children:"Ajouter un syndic"}),Object(B.jsx)("br",{}),Object(B.jsxs)("div",{className:"ajoutEmploye",children:[Object(B.jsx)(O.a,{value:ye,onChange:function(e){return Ee(e.target.value)},style:{flex:1,marginRight:"16px"},label:"Nom"}),Object(B.jsx)(O.a,{value:Ie,onChange:function(e){return Ne(e.target.value)},style:{flex:1,marginRight:"16px"},label:"Adresse"}),Object(B.jsx)(O.a,{value:Re,onChange:function(e){return Ae(e.target.value)},style:{flex:1,marginRight:"16px"},label:"Mobile",type:"tel"}),Object(B.jsx)(h.a,{variant:"outlined",onClick:function(){ye&&Ie&&Re&&(console.log("syndic"),console.log({nomSyndic:ye,addrSyndic:Ie,mobileSyndic:Re}),u.a.firestore().collection("syndics").doc().set({nom:ye,addr:Ie,telephone:Re,contacts:["Clara"]}).then(Bt))},classes:{root:e.root,label:e.label},children:"Ajouter"})]}),Object(B.jsx)("div",{className:"listEmploye",children:P.map((function(e){return Object(B.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(B.jsx)("div",{style:{flex:1,padding:"16px",borderBottom:"1px solid"},children:e.nom}),Object(B.jsx)("div",{style:{flex:1,padding:"16px",borderBottom:"1px solid"},children:e.addr}),Object(B.jsx)("div",{style:{flex:1,padding:"16px",borderBottom:"1px solid"},children:e.telephone}),Object(B.jsx)("div",{style:{flex:1,padding:"16px",borderBottom:"1px solid"},children:e.id})]})}))})]})}),Object(B.jsxs)(y.a,{open:Be,maxWidth:"sm",fullWidth:!0,TransitionComponent:H,keepMounted:!0,onClose:function(){return Fe(!1)},children:[Object(B.jsxs)(E.a,{style:{textAlign:"center",background:"#3f51b5",color:"#fff"},children:["Notifications \xe0 ",we]}),Object(B.jsx)("div",{style:{padding:24},children:Object(B.jsx)(O.a,{multiline:!0,fullWidth:!0,label:"Message a envoyer",value:Ge,onChange:function(e){return qe(e.target.value)}})}),Object(B.jsxs)(h.a,{onClick:function(){console.log(Ge),u.a.firestore().collection("users").doc(Ue).update({notifications:u.a.firestore.FieldValue.arrayUnion({deQui:"C5ZGq5OHveZRbeR1G7LilK2NqGI3",etat:"unread",quand:u.a.firestore.Timestamp.fromDate(new Date),quoi:{msg:Ge},type:"msgDirection"})}).then((function(){console.log("Firebase - Notification \xe0 l'utilisateur : "+Ue),Fe(!1)})).catch((function(e){console.error("Firebase - Erreur lors de l'ajout de l'intervention: ",e)}))},color:"primary",variant:"contained",size:"large",style:{width:"400px",margin:"1em auto",borderRadius:0,textTransform:"none",fontWeight:"700"},children:["Notifier ",we]})]}),kt&&Object(B.jsxs)(y.a,{open:Xe,maxWidth:"sm",fullWidth:!0,TransitionComponent:H,keepMounted:!0,onClose:function(){return Ye(!1)},children:[Object(B.jsxs)(E.a,{style:{textAlign:"center",background:"#3f51b5",color:"#fff"},children:["Edition de ",kt.nom+" "+kt.prenom]}),Object(B.jsxs)("div",{style:{padding:24,display:"flex",flexWrap:"wrap"},children:[Object(B.jsx)(W.a,{utils:I.a,locale:T.a,children:Object(B.jsx)(R.a,{style:{minWidth:"40%",flex:1,marginBottom:"8px",marginRight:"16px"},label:"Date d'entr\xe9e",variant:"inline",format:"dd/MM/yyyy",disabled:!0,openTo:"date",value:V,onChange:Q})}),Object(B.jsxs)(b.a,{style:{minWidth:"40%",flex:1,marginBottom:"8px",marginRight:"16px"},children:[Object(B.jsx)(j.a,{id:"heureFinLabel",children:"Role"}),Object(B.jsxs)(m.a,{labelId:"heureFinLabel",value:rt,onChange:function(e){return ae(e.target.value)},children:[Object(B.jsx)(x.a,{value:"technicien",children:"TECHNICIEN"}),Object(B.jsx)(x.a,{value:"gestionnaire",children:"GESTIONNAIRE"}),Object(B.jsx)(x.a,{value:"direction",children:"DIRECTION"})]})]}),Object(B.jsx)(O.a,{value:ft,onChange:function(e){return oe(e.target.value)},style:{minWidth:"40%",flex:1,marginBottom:"8px",marginRight:"16px"},label:"Nom"}),Object(B.jsx)(O.a,{value:jt,onChange:function(e){return de(e.target.value)},style:{minWidth:"40%",flex:1,marginBottom:"8px",marginRight:"16px"},label:"Prenom"}),Object(B.jsx)(O.a,{value:ht,disabled:!0,onChange:function(e){return be(e.target.value)},style:{minWidth:"40%",flex:1,marginBottom:"8px",marginRight:"16px"},label:"Mail"}),Object(B.jsx)(O.a,{value:Ct,onChange:function(e){return Oe(e.target.value)},style:{minWidth:"40%",flex:1,marginBottom:"8px",marginRight:"16px"},label:"Mobile",type:"tel"}),Object(B.jsx)(W.a,{utils:I.a,locale:T.a,children:Object(B.jsx)(R.a,{style:{minWidth:"40%",flex:1,marginBottom:"8px",marginRight:"16px"},label:"Date de naissance",variant:"inline",format:"dd/MM/yyyy",openTo:"date",value:$,onChange:_})})]}),Object(B.jsxs)(h.a,{onClick:function(){console.log("edit user"),console.log({editNom:ft,editPrenom:jt,editMail:ht,editMobile:Ct,editDateEntree:et,editDateNaissance:it}),u.a.firestore().collection("users").doc(kt.id).update({nom:ft,prenom:jt,role:rt,mobile:Ct,dateEntree:et,dateNaissance:it,cagnotte:parseInt(Tt),nbInter:parseInt(Dt)}).then(Bt)},color:"primary",variant:"contained",size:"large",style:{width:"400px",margin:"1em auto",borderRadius:0,textTransform:"none",fontWeight:"700"},children:["Modifier ",kt.nom+" "+kt.prenom]})]})]})]})},q=n(31),J=n(374),K=i.a.forwardRef((function(e,t){return Object(B.jsx)(f.a,Object(o.a)({direction:"up",ref:t},e))}));function U(e){var t=Object(a.useState)(""),n=Object(r.a)(t,2),i=n[0],c=n[1],s=Object(a.useState)(""),o=Object(r.a)(s,2),u=o[0],d=o[1],f=Object(a.useState)(!1),p=Object(r.a)(f,2),b=p[0],j=p[1],m=function(){q.a.auth().signInWithEmailAndPassword(i,u).then((function(t){j(!1);t.user;e.setLogged(!0)})).catch((function(t){j(!0),e.setLogged(!1)}))};return Object(B.jsxs)(y.a,{className:"loginModal",open:e.open,TransitionComponent:K,fullWidth:!0,keepMounted:!0,onClose:e.close,children:[Object(B.jsx)(E.a,{style:{textAlign:"center"},children:"Connectez-vous"}),Object(B.jsxs)(J.a,{style:{display:"flex",flexDirection:"column"},children:[Object(B.jsx)(O.a,{onKeyUp:function(e){"Enter"!==e.key&&13!==e.keyCode||m()},label:"Adresse e-mail",value:i,onChange:function(e){return c(e.target.value)},style:{margin:"24px 24px 0 24px"}}),Object(B.jsx)(O.a,{onKeyUp:function(e){"Enter"!==e.key&&13!==e.keyCode||m()},label:"Mot de passe",type:"password",value:u,onChange:function(e){return d(e.target.value)},style:{margin:"24px"}}),Object(B.jsx)(g.a,{in:b,timeout:{enter:500,exit:250},mountOnEnter:!0,unmountOnExit:!0,children:Object(B.jsx)(l.a,{style:{color:"#dc3545",margin:"0 24px 24px 24px"},children:"Login ou mot de passe incorrect !"})}),Object(B.jsx)(h.a,{onClick:m,variant:"outlined",color:"primary",style:{margin:"24px"},children:"Se connecter"})]})]})}var Z=n(114),V=n(38),Q=n(20),X=n(341),Y=function(e){var t=e.classes,n=Object(Z.a)(e,["classes"]);return Object(B.jsx)(V.d.Root,Object(o.a)(Object(o.a)({},n),{},{className:t.root}))},$=(Object(C.a)((function(){return{root:{display:"flex",margin:"auto",flexDirection:"row"}}}),{name:"LegendRoot"})(Y),Object(C.a)((function(){return{root:{display:"flex",margin:"auto",flexDirection:"row",flexWrap:"wrap","& li":{width:"auto",flex:1,minWidth:"33%",maxWidth:"50%"}}}}),{name:"LegendRoot"})(Y)),_=Object(C.a)((function(){return{label:{whiteSpace:"nowrap"}}}),{name:"LegendLabel"})((function(e){var t=e.classes,n=Object(Z.a)(e,["classes"]);return Object(B.jsx)(V.d.Label,Object(o.a)({className:t.label},n))}));function ee(e){var t=Object(a.useState)(),n=Object(r.a)(t,2),i=(n[0],n[1]),c=Object(a.useState)([]),s=Object(r.a)(c,2),l=(s[0],s[1]),u=Object(a.useState)([]),d=Object(r.a)(u,2),p=d[0],g=d[1],b=Object(a.useState)([]),j=Object(r.a)(b,2),m=j[0],x=j[1];return Object(a.useEffect)((function(){q.a.firestore().collection("interventions").get().then((function(e){var t=[{etat:"en attente",value:0},{etat:"en cours",value:0},{etat:"r\xe9alis\xe9",value:0},{etat:"non r\xe9alis\xe9e",value:0},{etat:"factur\xe9",value:0},{etat:"pay\xe9",value:0}],n=[{month:"Jan",EnAttente:0,EnCours:0,"Termin\xe9e":0,"PasTermin\xe9e":0,"Pay\xe9e":0,value:0},{month:"Fev",EnAttente:0,EnCours:0,"Termin\xe9e":0,"PasTermin\xe9e":0,"Pay\xe9e":0,value:0},{month:"Mars",EnAttente:0,EnCours:0,"Termin\xe9e":0,"PasTermin\xe9e":0,"Pay\xe9e":0,value:0},{month:"Avr",EnAttente:0,EnCours:0,"Termin\xe9e":0,"PasTermin\xe9e":0,"Pay\xe9e":0,value:0},{month:"Mai",EnAttente:0,EnCours:0,"Termin\xe9e":0,"PasTermin\xe9e":0,"Pay\xe9e":0,value:0},{month:"Juin",EnAttente:0,EnCours:0,"Termin\xe9e":0,"PasTermin\xe9e":0,"Pay\xe9e":0,value:0},{month:"Juil",EnAttente:0,EnCours:0,"Termin\xe9e":0,"PasTermin\xe9e":0,"Pay\xe9e":0,value:0},{month:"Aout",EnAttente:0,EnCours:0,"Termin\xe9e":0,"PasTermin\xe9e":0,"Pay\xe9e":0,value:0},{month:"Sept",EnAttente:0,EnCours:0,"Termin\xe9e":0,"PasTermin\xe9e":0,"Pay\xe9e":0,value:0},{month:"Oct",EnAttente:0,EnCours:0,"Termin\xe9e":0,"PasTermin\xe9e":0,"Pay\xe9e":0,value:0},{month:"Nov",EnAttente:0,EnCours:0,"Termin\xe9e":0,"PasTermin\xe9e":0,"Pay\xe9e":0,value:0},{month:"Dec",EnAttente:0,EnCours:0,"Termin\xe9e":0,"PasTermin\xe9e":0,"Pay\xe9e":0,value:0}],a=e.docs.map((function(e,a){var i=e.data().etat;"en attente"===i&&t[0].value++,"en cours"===i&&t[1].value++,"r\xe9alis\xe9"===i&&t[2].value++,"non r\xe9alis\xe9"===i&&t[3].value++,"factur\xe9"===i&&t[4].value++,"pay\xe9"===i&&t[5].value++;var c=parseInt(e.data().date.split(" ")[0].split("/")[1])-1;return console.log(n[c],n,c),"pay\xe9"===i?n[c].Pay\u00e9e++:"en cours"===i?n[c].EnCours++:"en attente"===i?n[c].EnAttente++:"non r\xe9alis\xe9"===i?n[c].PasTermin\u00e9e++:"r\xe9alis\xe9"===i?n[c].Termin\u00e9e++:n[c].PasTermin\u00e9e++,n[c].value++,Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}));g(t),l(n),console.log("Firebase - Liste des interventions",a),i(a)})),q.a.firestore().collection("users").get().then((function(e){var t=[],n=e.docs.map((function(e,n){if("technicien"===e.data().role)return t.push({id:e.id,name:e.data().nom+" "+e.data().prenom,value:Object.keys(e.data().interventionsList).length}),Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}));console.log("Firebase - Liste des utilisateurs",n),x(t)}))}),[]),Object(B.jsx)(f.a,{direction:"down",in:e.visibilityDashboard,mountOnEnter:!0,unmountOnExit:!0,children:Object(B.jsx)("div",{className:"dashboardWrapper",children:Object(B.jsxs)("div",{style:{flex:1,display:"flex",padding:"24px 0",borderBottom:"1px solid #ccc"},children:[Object(B.jsxs)(X.a,{elevation:1,style:{flex:1},children:[Object(B.jsx)("h3",{children:"Interventions Totales"}),Object(B.jsxs)(V.c,{data:p,children:[Object(B.jsx)(V.e,{valueField:"value",argumentField:"etat"}),Object(B.jsx)(V.d,{position:"bottom",rootComponent:$,labelComponent:_}),Object(B.jsx)(Q.f,{}),Object(B.jsx)(V.f,{}),Object(B.jsx)(Q.a,{})]})]}),Object(B.jsxs)(X.a,{elevation:1,style:{flex:1},children:[Object(B.jsx)("h3",{children:"Interventions par technicien"}),Object(B.jsxs)(V.c,{data:m,rotated:!0,children:[Object(B.jsx)(V.a,{}),Object(B.jsx)(V.g,{}),Object(B.jsx)(V.b,{valueField:"value",argumentField:"name"}),Object(B.jsx)(Q.f,{}),Object(B.jsx)(V.f,{}),Object(B.jsx)(Q.a,{})]})]})]})})})}var te=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(!1),s=Object(r.a)(c,2),u=s[0],d=s[1],f=Object(a.useState)(""),p=Object(r.a)(f,2),g=p[0],b=p[1];return Object(a.useEffect)((function(){""!==g&&q.a.firestore().collection("users").get().then((function(e){e.docs.map((function(e,t){return e.id===g&&("DIRECTION"!==e.data().role&&"dev"!==e.data().role?(i(!1),q.a.auth().signOut().then((function(){console.log("deconnect\xe9")})).catch((function(e){console.log(e)}))):i(!0)),Object(o.a)(Object(o.a)({},e.data()),{},{id:e.id})}))}))}),[g]),Object(B.jsxs)("div",{className:"App",children:[Object(B.jsxs)("header",{className:"App-header",children:[Object(B.jsx)(l.a,{style:{padding:"8px 24px"},component:"h4",children:"Marcel Renovation - Direction"}),Object(B.jsx)(l.a,{style:{padding:"8px 24px",borderLeft:"1px solid",cursor:"pointer"},component:"h4",onClick:function(){d(!u)},children:"Dashboard"}),Object(B.jsx)(l.a,{style:{flex:1}})]}),n&&Object(B.jsx)(G,{}),Object(B.jsx)(ee,{visibilityDashboard:u}),Object(B.jsx)(U,{open:!n,userId:b,setLogged:i})]})},ne=n(164);s.a.render(Object(B.jsx)(ne.a,{firebaseConfig:{apiKey:"AIzaSyBLZSubv92m22fEDq0Ok25fO0FBboVP4NE",authDomain:"marcelrenov-web.firebaseapp.com",projectId:"marcelrenov-web",storageBucket:"marcelrenov-web.appspot.com",messagingSenderId:"286713953813",appId:"1:286713953813:web:2a542ad866caaa033c181c",measurementId:"G-BR21R83LHZ"},children:Object(B.jsx)(te,{})}),document.getElementById("root"))}]),[[336,7,9]]]);
//# sourceMappingURL=main.04dca7c6.chunk.js.map